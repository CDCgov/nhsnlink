---

id: SubmissionService
name: Submission Service
version: 0.2.0

summary: |
  Service that provides functionality for submitting report data

owners:
  - arch_team

receives:
  - id: SubmitReport
    
sends:
  - id: ReportSubmitted

specifications:
  openapiPath: openapi.yml

badges:
  - content: ".NET"
    backgroundColor: yellow
    textColor: black
  - content: MSSQL
    backgroundColor: red
    textColor: white
  - content: '8073:8080'
    backgroundColor: gray
    textColor: white

---

## Overview

The Submission service is responsible for packaging a tenant's reporting content and submitting them to a configured destination. Currently, the service only writes the submission content to its local file store. The submission package for a reporting period includes the following files:

| File            | Description                                                                                                                                                                       | Multiple Files?                |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------|
| Aggregate       | A [MeasureReport](https://hl7.org/fhir/R4/measurereport.html) resource that contains references to each patient evaluation for a specific measure                                 | Yes, one per measure           | 
| Patient List    | A [List](https://hl7.org/fhir/R4/list.html) resource of all patients that were admitted into the facility during the reporting period                                             | No                             |
| Device          | A [Device](https://hl7.org/fhir/R4/device.html) resource that details the version of Link Cloud that was used                                                                     | No                             |
| Organization    | An [Organization](https://hl7.org/fhir/R4/organization.html) resource for the submitting facility                                                                                 | No                             |
| Other Resources | A [Bundle](https://hl7.org/fhir/R4/bundle.html) resource that contains all of the shared resources (Location, Medication, etc) that are referenced in the patient Measure Reports | No                             |
| Patient         | A [Bundle](https://hl7.org/fhir/R4/bundle.html) resource that contains the MeasureReports and related resources for a patient                                                     | Yes, one per evaluated patient |

## Nodes

<NodeGraph />

## Common Configurations

* [Swagger](/docs/custom/config/dotnet#swagger)
* [Azure App Configuration](/docs/custom/config/dotnet#azure-app-config-environment-variables)
* [Kafka Configuration](/docs/custom/config/dotnet#kafka)
* [Kafka Consumer Retry Configuration](/docs/custom/config/dotnet#kafka-consumer-settings)
* [Service Registry Configuration](/docs/custom/config/dotnet#service-registry)
* [CORS Configuration](/docs/custom/config/dotnet#cors)
* [Token Service Configuration](/docs/custom/config/dotnet#token-service-settings)
* [Service Authentication](/docs/custom/config/dotnet#service-authentication)
* [Mongo Database](/docs/custom/config/dotnet#mongo-database)

## Custom Configurations

| Name                                                | Value      | Description                                                                                                   | Secret? |
|-----------------------------------------------------|------------|---------------------------------------------------------------------------------------------------------------|---------|
| SubmissionServiceConfig__SubmissionDirectory        | \<string>  | The location of where to store submission files until they are ready to be submitted. i.e. `/data/Submission` | No      |
| SubmissionServiceConfig__PatientBundleBatchSize     | 1          | The number of patients to process during submission in parallel (as seperate threads)                         | No      |
| SubmissionServiceConfig__MeasureNames__0__Url       | \<string>  | URL of measure                                                                                                | No      |
| SubmissionServiceConfig__MeasureNames__0__MeasureId | \<string>  | ID of measure                                                                                                 | No      |
| SubmissionServiceConfig__MeasureNames__0__ShortName | \<string>  | Short name of the measure (used in building submission file name)                                             | No      |
| Features__DownloadReportEnabled                     | \<boolean> | Whether or not the download report feature is enabled. Defaults to false.                                     | No      |